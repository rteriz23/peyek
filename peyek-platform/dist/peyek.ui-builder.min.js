!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((e="undefined"!=typeof globalThis?globalThis:e||self).PeyekUIBuilder={})}(this,function(e){"use strict";function n(e,n={},t=[]){const a=document.createElement(e);for(const[e,t]of Object.entries(n))if(e.startsWith("on")&&"function"==typeof t){const n=e.substring(2).toLowerCase();a.addEventListener(n,t)}else"className"===e?a.className=t:"style"===e&&"object"==typeof t?Object.assign(a.style,t):a.setAttribute(e,t);return t.forEach(e=>{"string"==typeof e?a.appendChild(document.createTextNode(e)):e instanceof HTMLElement&&a.appendChild(e)}),a}const t={text:{name:"Text Block",icon:"T",render:()=>n("div",{className:"peyek-component peyek-comp-text",contentEditable:"true",style:{padding:"10px",fontFamily:"sans-serif",minHeight:"20px",border:"1px dashed transparent",outline:"none"}},["Double click to edit text"])},heading:{name:"Heading",icon:"H",render:()=>n("h2",{className:"peyek-component peyek-comp-heading",contentEditable:"true",style:{padding:"10px",fontFamily:"sans-serif",margin:"0",outline:"none"}},["Heading Text"])},button:{name:"Button",icon:"B",render:()=>n("button",{className:"peyek-component peyek-comp-button",contentEditable:"true",style:{padding:"10px 20px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontFamily:"sans-serif"}},["Button"])}};class a{constructor(e){this.builder=e,this.draggedType=null}initDraggable(e,n){e.setAttribute("draggable","true"),e.addEventListener("dragstart",e=>this.handleDragStart(e,n)),e.addEventListener("dragend",e=>this.handleDragEnd(e))}initDropzone(e){e.addEventListener("dragover",e=>this.handleDragOver(e)),e.addEventListener("dragleave",e=>this.handleDragLeave(e)),e.addEventListener("drop",e=>this.handleDrop(e))}handleDragStart(e,n){this.draggedType=n,e.dataTransfer.effectAllowed="copy",e.target.style.opacity="0.5"}handleDragEnd(e){e.target.style.opacity="1",this.draggedType=null}handleDragOver(e){if(e.preventDefault(),e.dataTransfer.dropEffect="copy",e.target.classList.contains("peyek-dropzone")||e.target.closest(".peyek-dropzone")){(e.target.classList.contains("peyek-dropzone")?e.target:e.target.closest(".peyek-dropzone")).classList.add("peyek-drag-over")}}handleDragLeave(e){e.target.classList.contains("peyek-dropzone")&&e.target.classList.remove("peyek-drag-over")}handleDrop(e){e.preventDefault();let n=e.target;n.classList.contains("peyek-dropzone")||(n=n.closest(".peyek-dropzone")),n&&(n.classList.remove("peyek-drag-over"),this.draggedType&&this.builder.addComponent(this.draggedType,n))}}e.Components=t,e.DragDropManager=a,e.UIBuilder=class{constructor(e){if(this.container=document.getElementById(e),!this.container)throw new Error(`Container #${e} not found`);this.ddManager=new a(this),this.initStyles()}initStyles(){if(!document.getElementById("peyek-builder-styles")){const e=document.createElement("style");e.id="peyek-builder-styles",e.textContent="\n  .peyek-builder-container {\n    display: flex;\n    height: 100vh;\n    font-family: system-ui, -apple-system, sans-serif;\n    border: 1px solid #ddd;\n    background: #f9f9f9;\n  }\n  .peyek-sidebar {\n    width: 250px;\n    background: #fff;\n    border-right: 1px solid #eee;\n    padding: 20px;\n    overflow-y: auto;\n  }\n  .peyek-canvas {\n    flex: 1;\n    padding: 20px;\n    overflow-y: auto;\n  }\n  .peyek-dropzone {\n    background: #fff;\n    min-height: 400px;\n    border: 2px dashed #ccc;\n    border-radius: 8px;\n    padding: 20px;\n    transition: all 0.3s ease;\n  }\n  .peyek-dropzone.peyek-drag-over {\n    border-color: #007bff;\n    background: #f0f7ff;\n  }\n  .peyek-sidebar-item {\n    background: #f8f9fa;\n    border: 1px solid #ddd;\n    padding: 10px;\n    margin-bottom: 10px;\n    border-radius: 4px;\n    cursor: grab;\n    display: flex;\n    align-items: center;\n    user-select: none;\n  }\n  .peyek-sidebar-item:active {\n    cursor: grabbing;\n  }\n  .peyek-sidebar-icon {\n    display: inline-block;\n    width: 24px;\n    height: 24px;\n    background: #eee;\n    text-align: center;\n    line-height: 24px;\n    border-radius: 4px;\n    margin-right: 10px;\n    font-weight: bold;\n    color: #555;\n  }\n  .peyek-component {\n    position: relative;\n    margin-bottom: 10px;\n  }\n  .peyek-component:hover {\n    outline: 2px solid #007bff !important;\n  }\n",document.head.appendChild(e)}}render(){this.container.innerHTML="";const e=n("div",{className:"peyek-builder-container"}),a=n("div",{className:"peyek-sidebar"},[n("h3",{style:{marginTop:"0",color:"#333"}},["Components"])]);Object.keys(t).forEach(e=>{const r=t[e],o=n("div",{className:"peyek-sidebar-item"},[n("span",{className:"peyek-sidebar-icon"},[r.icon]),r.name]);this.ddManager.initDraggable(o,e),a.appendChild(o)});const r=n("div",{className:"peyek-canvas"}),o=n("div",{className:"peyek-dropzone"},[n("div",{style:{color:"#999",textAlign:"center",marginTop:"40px"}},["Drag components here"])]);this.ddManager.initDropzone(o),r.appendChild(o),e.appendChild(a),e.appendChild(r),this.container.appendChild(e)}addComponent(e,n){if(t[e]){const a=n.querySelector('div[style*="text-align: center"]');a&&a.remove();const r=t[e].render();n.appendChild(r)}}}});
//# sourceMappingURL=peyek.ui-builder.min.js.map
