{"version":3,"file":"peyek.ui-builder.min.js","sources":["../node_modules/@rterizz23/peyek-core/src/utils.js","../packages/ui-builder/src/components.js","../packages/ui-builder/src/dragdrop.js","../packages/ui-builder/src/builder.js"],"sourcesContent":["/**\r\n * P.E.Y.E.K Core Utilities\r\n */\r\n\r\n/**\r\n * Creates an HTML element with attributes and children.\r\n * @param {string} tag\r\n * @param {Object} attributes\r\n * @param {Array<HTMLElement|string>} children\r\n * @returns {HTMLElement}\r\n */\r\nexport function createElement(tag, attributes = {}, children = []) {\r\n    const el = document.createElement(tag);\r\n\r\n    for (const [key, value] of Object.entries(attributes)) {\r\n        if (key.startsWith('on') && typeof value === 'function') {\r\n            const event = key.substring(2).toLowerCase();\r\n            el.addEventListener(event, value);\r\n        } else if (key === 'className') {\r\n            el.className = value;\r\n        } else if (key === 'style' && typeof value === 'object') {\r\n            Object.assign(el.style, value);\r\n        } else {\r\n            el.setAttribute(key, value);\r\n        }\r\n    }\r\n\r\n    children.forEach(child => {\r\n        if (typeof child === 'string') {\r\n            el.appendChild(document.createTextNode(child));\r\n        } else if (child instanceof HTMLElement) {\r\n            el.appendChild(child);\r\n        }\r\n    });\r\n\r\n    return el;\r\n}\r\n\r\n/**\r\n * Generates a unique ID\r\n * @returns {string}\r\n */\r\nexport function generateUniqueId() {\r\n    return 'peyek_' + Math.random().toString(36).substr(2, 9);\r\n}\r\n","import { Utils } from '@rterizz23/peyek-core';\r\n\r\n/**\r\n * P.E.Y.E.K UI Builder - Default Components\r\n */\r\nexport const Components = {\r\n    text: {\r\n        name: 'Text Block',\r\n        icon: 'T',\r\n        render: () => {\r\n            return Utils.createElement('div', {\r\n                className: 'peyek-component peyek-comp-text',\r\n                contentEditable: 'true',\r\n                style: {\r\n                    padding: '10px',\r\n                    fontFamily: 'sans-serif',\r\n                    minHeight: '20px',\r\n                    border: '1px dashed transparent',\r\n                    outline: 'none'\r\n                }\r\n            }, ['Double click to edit text']);\r\n        }\r\n    },\r\n\r\n    heading: {\r\n        name: 'Heading',\r\n        icon: 'H',\r\n        render: () => {\r\n            return Utils.createElement('h2', {\r\n                className: 'peyek-component peyek-comp-heading',\r\n                contentEditable: 'true',\r\n                style: {\r\n                    padding: '10px',\r\n                    fontFamily: 'sans-serif',\r\n                    margin: '0',\r\n                    outline: 'none'\r\n                }\r\n            }, ['Heading Text']);\r\n        }\r\n    },\r\n\r\n    button: {\r\n        name: 'Button',\r\n        icon: 'B',\r\n        render: () => {\r\n            return Utils.createElement('button', {\r\n                className: 'peyek-component peyek-comp-button',\r\n                contentEditable: 'true',\r\n                style: {\r\n                    padding: '10px 20px',\r\n                    backgroundColor: '#007bff',\r\n                    color: 'white',\r\n                    border: 'none',\r\n                    borderRadius: '4px',\r\n                    cursor: 'pointer',\r\n                    fontFamily: 'sans-serif'\r\n                }\r\n            }, ['Button']);\r\n        }\r\n    }\r\n};\r\n","/**\r\n * Drag and Drop Manager for P.E.Y.E.K Builder\r\n */\r\nexport class DragDropManager {\r\n    constructor(builder) {\r\n        this.builder = builder;\r\n        this.draggedType = null;\r\n    }\r\n\r\n    initDraggable(element, type) {\r\n        element.setAttribute('draggable', 'true');\r\n        element.addEventListener('dragstart', (e) => this.handleDragStart(e, type));\r\n        element.addEventListener('dragend', (e) => this.handleDragEnd(e));\r\n    }\r\n\r\n    initDropzone(element) {\r\n        element.addEventListener('dragover', (e) => this.handleDragOver(e));\r\n        element.addEventListener('dragleave', (e) => this.handleDragLeave(e));\r\n        element.addEventListener('drop', (e) => this.handleDrop(e));\r\n    }\r\n\r\n    handleDragStart(e, type) {\r\n        this.draggedType = type;\r\n        e.dataTransfer.effectAllowed = 'copy';\r\n        e.target.style.opacity = '0.5';\r\n    }\r\n\r\n    handleDragEnd(e) {\r\n        e.target.style.opacity = '1';\r\n        this.draggedType = null;\r\n    }\r\n\r\n    handleDragOver(e) {\r\n        e.preventDefault();\r\n        e.dataTransfer.dropEffect = 'copy';\r\n        if (e.target.classList.contains('peyek-dropzone') || e.target.closest('.peyek-dropzone')) {\r\n            const dropzone = e.target.classList.contains('peyek-dropzone') ? e.target : e.target.closest('.peyek-dropzone');\r\n            dropzone.classList.add('peyek-drag-over');\r\n        }\r\n    }\r\n\r\n    handleDragLeave(e) {\r\n        if (e.target.classList.contains('peyek-dropzone')) {\r\n            e.target.classList.remove('peyek-drag-over');\r\n        }\r\n    }\r\n\r\n    handleDrop(e) {\r\n        e.preventDefault();\r\n\r\n        let dropzone = e.target;\r\n        if (!dropzone.classList.contains('peyek-dropzone')) {\r\n            dropzone = dropzone.closest('.peyek-dropzone');\r\n        }\r\n\r\n        if (dropzone) {\r\n            dropzone.classList.remove('peyek-drag-over');\r\n            if (this.draggedType) {\r\n                this.builder.addComponent(this.draggedType, dropzone);\r\n            }\r\n        }\r\n    }\r\n}\r\n","import { Utils } from '@rterizz23/peyek-core';\r\nimport { Components } from './components.js';\r\nimport { DragDropManager } from './dragdrop.js';\r\n\r\nconst BUILDER_CSS = `\r\n  .peyek-builder-container {\r\n    display: flex;\r\n    height: 100vh;\r\n    font-family: system-ui, -apple-system, sans-serif;\r\n    border: 1px solid #ddd;\r\n    background: #f9f9f9;\r\n  }\r\n  .peyek-sidebar {\r\n    width: 250px;\r\n    background: #fff;\r\n    border-right: 1px solid #eee;\r\n    padding: 20px;\r\n    overflow-y: auto;\r\n  }\r\n  .peyek-canvas {\r\n    flex: 1;\r\n    padding: 20px;\r\n    overflow-y: auto;\r\n  }\r\n  .peyek-dropzone {\r\n    background: #fff;\r\n    min-height: 400px;\r\n    border: 2px dashed #ccc;\r\n    border-radius: 8px;\r\n    padding: 20px;\r\n    transition: all 0.3s ease;\r\n  }\r\n  .peyek-dropzone.peyek-drag-over {\r\n    border-color: #007bff;\r\n    background: #f0f7ff;\r\n  }\r\n  .peyek-sidebar-item {\r\n    background: #f8f9fa;\r\n    border: 1px solid #ddd;\r\n    padding: 10px;\r\n    margin-bottom: 10px;\r\n    border-radius: 4px;\r\n    cursor: grab;\r\n    display: flex;\r\n    align-items: center;\r\n    user-select: none;\r\n  }\r\n  .peyek-sidebar-item:active {\r\n    cursor: grabbing;\r\n  }\r\n  .peyek-sidebar-icon {\r\n    display: inline-block;\r\n    width: 24px;\r\n    height: 24px;\r\n    background: #eee;\r\n    text-align: center;\r\n    line-height: 24px;\r\n    border-radius: 4px;\r\n    margin-right: 10px;\r\n    font-weight: bold;\r\n    color: #555;\r\n  }\r\n  .peyek-component {\r\n    position: relative;\r\n    margin-bottom: 10px;\r\n  }\r\n  .peyek-component:hover {\r\n    outline: 2px solid #007bff !important;\r\n  }\r\n`;\r\n\r\nexport class UIBuilder {\r\n    constructor(containerId) {\r\n        this.container = document.getElementById(containerId);\r\n        if (!this.container) throw new Error(`Container #${containerId} not found`);\r\n\r\n        this.ddManager = new DragDropManager(this);\r\n        this.initStyles();\r\n    }\r\n\r\n    initStyles() {\r\n        if (!document.getElementById('peyek-builder-styles')) {\r\n            const style = document.createElement('style');\r\n            style.id = 'peyek-builder-styles';\r\n            style.textContent = BUILDER_CSS;\r\n            document.head.appendChild(style);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        this.container.innerHTML = '';\r\n\r\n        const wrapper = Utils.createElement('div', { className: 'peyek-builder-container' });\r\n\r\n        // Sidebar\r\n        const sidebar = Utils.createElement('div', { className: 'peyek-sidebar' }, [\r\n            Utils.createElement('h3', { style: { marginTop: '0', color: '#333' } }, ['Components'])\r\n        ]);\r\n\r\n        Object.keys(Components).forEach(key => {\r\n            const comp = Components[key];\r\n            const item = Utils.createElement('div', { className: 'peyek-sidebar-item' }, [\r\n                Utils.createElement('span', { className: 'peyek-sidebar-icon' }, [comp.icon]),\r\n                comp.name\r\n            ]);\r\n            this.ddManager.initDraggable(item, key);\r\n            sidebar.appendChild(item);\r\n        });\r\n\r\n        // Canvas / Dropzone\r\n        const canvas = Utils.createElement('div', { className: 'peyek-canvas' });\r\n        const dropzone = Utils.createElement('div', { className: 'peyek-dropzone' }, [\r\n            Utils.createElement('div', { style: { color: '#999', textAlign: 'center', marginTop: '40px' } }, ['Drag components here'])\r\n        ]);\r\n\r\n        this.ddManager.initDropzone(dropzone);\r\n        canvas.appendChild(dropzone);\r\n\r\n        wrapper.appendChild(sidebar);\r\n        wrapper.appendChild(canvas);\r\n        this.container.appendChild(wrapper);\r\n    }\r\n\r\n    addComponent(type, targetDropzone) {\r\n        if (Components[type]) {\r\n            // Remove placeholder text if it's the first element\r\n            const placeholder = targetDropzone.querySelector('div[style*=\"text-align: center\"]');\r\n            if (placeholder) {\r\n                placeholder.remove();\r\n            }\r\n\r\n            const el = Components[type].render();\r\n            targetDropzone.appendChild(el);\r\n\r\n            // We could add edit/delete overlays here in a real full implementation\r\n        }\r\n    }\r\n}\r\n"],"names":["createElement","tag","attributes","children","el","document","key","value","Object","entries","startsWith","event","substring","toLowerCase","addEventListener","className","assign","style","setAttribute","forEach","child","appendChild","createTextNode","HTMLElement","Components","text","name","icon","render","Utils.createElement","contentEditable","padding","fontFamily","minHeight","border","outline","heading","margin","button","backgroundColor","color","borderRadius","cursor","DragDropManager","constructor","builder","this","draggedType","initDraggable","element","type","e","handleDragStart","handleDragEnd","initDropzone","handleDragOver","handleDragLeave","handleDrop","dataTransfer","effectAllowed","target","opacity","preventDefault","dropEffect","classList","contains","closest","add","remove","dropzone","addComponent","containerId","container","getElementById","Error","ddManager","initStyles","id","textContent","head","innerHTML","wrapper","sidebar","marginTop","keys","comp","item","canvas","textAlign","targetDropzone","placeholder","querySelector"],"mappings":"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","x_google_ignoreList":[0]}